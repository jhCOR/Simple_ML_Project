# 전처리(Preprocessing)

ML 모델은 데이터로부터 어떠한 패턴이나 특징을 찾습니다. 
그런데 데이터가 너무 들쭉날쭉이면 패턴을 찾기 힘들지 않을까요?

그래서 우리는 전처리를 해야합니다. 갑자기 너무 큰 수가 들어 있거나 값이 없는 경우가 있다면
이를 제거하거나 보정해주어야 합니다. 

다음 표를 한번 볼까요?
<p align="center">
  <img src="../asset/before_preprocess.jpg" alt="before" width="100%"/>
</p>
앗 Mileage를 이용하여 총 주행 거리를 이용해 중고차의 가격을 추론하려했는데
숫자가 아닙니다! 143131 km와 같이 km이 붙은 문자열이네요.
그럼 이걸 숫자로 바꿔야 합니다. 

다음의 코드를 한번 볼꼐께요. Baseline/data_preprocessing.py 파일에 있는 코드 일부분입니다. 
```
df["Mileage"] = df["Mileage"].str.replace(" km", "", regex=True).astype(int)
```
이 코드는 df라는 데이터 집합의 Mileage라는 열의 데이터를 가져온 후, 
" km"을 ""(아무것도 없음)으로 대체하는 코드입니다.

# 학습

# 결과 분석
한 가지 생각을 해봅시다!
예를들어 저는 레스토랑의 마케팅 담당자입니다. 
저는 레스토랑의 결제 내역을 비롯한 여러 데이터들을 정리한 데이터 셋이 있습니다. 이를 이용해서 레스토랑을 알리고 수익을 올리고 싶습니다. 

그럼 어떠한 데이터를 어떻게 이용해야 할까요?

거래 시간, 가격, 사람 수, 주문 메뉴?

모든 데이터를 쓰는 경우 오히려 모델의 크기가 작아 그 특성을 모두 이해하기 어렵거나, 수렴이 늦어질 수 있습니다. 
그러한 특성을 편향없이 이해할 수 있도록 데이터 양이 충분해야하는데 일부 특성은 그렇지 않을 수도 있구요.

그러면 우리는 도매인의 지식을 조금 활용해야합니다. 

거래시간을 고려하면 밥 먹을 시간대 -> 매출 상승 : 좋은 선택입니다!
가격 특성은 고려하되, 사람 수 데이터는 제외: 가격은 사람 수에 비래할 가능성이 꽤 있습니다. 법인 카드로 회식하거나 한 사람이 몰아서 결재할 수도 있잖아요.
가격 특성만 고려하면 모델이 비쌀 수록 그냥 잘 팔리는 구나! 하고 오해를 할 수도 있습니다.

때문에 머신러닝에서는 결과 예측에 가장 도움이 되는 특성을 자동으로 식별하고 리포트하는 기능들이 있습니다.
이를 통해 중요한 특성을 선별하여 모델의 성능을 더욱 효과적으로 개선할 수 있습니다!
